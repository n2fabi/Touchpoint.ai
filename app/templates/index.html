<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touchpoint.ai Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Touchpoint.ai Logo" height="50">
        </div>
        <div class="user-icon">ðŸ‘¤</div>
    </header>

    <!-- Sidebar -->
<nav class="sidebar">
    <a href="{{ url_for('index.index') }}">Home</a>
    <a href="{{ url_for('emails.list_emails') }}">E-Mails</a>
    <a href="{{ url_for('reminders.list_reminders') }}">Reminder</a>
    <a href="{{ url_for('chats.list_chats') }}">Chats</a>
    <a href="{{ url_for('customers.list_customers') }}">Customer</a>
    <a href="{{ url_for('products.list_products') }}">Products</a>
    <a href="{{ url_for('settings.index') }}">Settings</a>
</nav>

    <!-- Main Content -->
    <main class="main">
        <h2><span class="highlight">Ask AI:</span></h2>
        
        <!-- Prompt Eingabe -->
        <form method="POST" class="ask-ai-container">
            <input type="text" name="prompt" placeholder="Which customer hasn't responded to our new product yet?" required>
            <button type="submit" name="action" value="ask_ai" class="ask-btn">Ask</button>
        </form>
        
        <!-- Answer latest E-Mail-->
         <form method="POST" class="ask-ai-container">
            <button type="submit" name="action" value="answer_latest" class="ask-btn">Answer the latest E-Mail</button>
        </form>


        <!-- Initialize Email Dump -->
        <form action="{{ url_for('index.init_dump') }}" method="post">
            <button type="submit">Load new E-Mails</button>
        </form>
        <!-- Test Action Button -->
        <form method="POST" action="{{ url_for('index.test_action') }}">
            <button type="submit" class="ask-btn dev-btn">ðŸš€ Testbutton</button>
        </form>

        <!-- Response Box -->
        <div class="response-box">
            {% if answer %}
                <div class="email-preview email-wide">
                <div class="email-header">
                <div><strong>To:</strong> {{ answer.to }}</div>
                <div><strong>Subject:</strong> {{ answer.subject }}</div>
                </div>
                <div class="email-body">
                    {{ answer.body_text | replace('\n', '<br>') | safe }}
                </div>
                </div>
            {% else %}
                <!-- Demo-Content -->
                <div class="email-container">
                    <!-- E-Mail 1 -->
                    

                    <!-- E-Mail 2 -->
                    <div class="email-preview">
                        <div class="email-header">
                            <div><strong>To:</strong> max.mustermann@example.com</div>
                            <div><strong>Betreff:</strong> Haben Sie unsere neueste Innovation schon gesehen?</div>
                        </div>
                        <div class="email-body">
                            Hallo Max,<br><br>
                            Wir freuen uns, Ihnen unser neuestes Produkt <strong>Touchpoint.ai</strong> vorzustellen.
                            Entwickelt, um Ihre Kunden individuell und immer zum richtigen Zeitpunkt zu kontaktieren.<br><br>
                            <a href="#" style="color: #800020;">ðŸ‘‰ Mehr erfahren</a><br><br>
                            Viele GrÃ¼ÃŸe,<br>
                            Ihr Touchpoint.ai Team
                        </div>
                    </div>

                    <!-- E-Mail 3 -->
                    <div class="email-preview email-wide">
                        <div class="email-header">
                            <div><strong>To:</strong> sarah.musiclover@example.com</div>
                            <div><strong>Subject:</strong> Your favorite tunes + our newest product ðŸŽ¶</div>
                        </div>
                        <div class="email-body">
                            Hey Sarah,<br><br>
                            How was the Linkin Park concert last weekend? Check out <strong>What I've done</strong>!
                            It's my new app <strong>Touchpoint.ai</strong>!<br><br>
                            It makes it easy to stay in contact with all the bands and venues you need to stay in touch with.
                            This will make your life as a booking agent so much easier!<br><br>
                            <a href="#" style="color: #800020;">ðŸ‘‰ Discover it here</a><br><br>
                            Cheers,<br>
                            The Touchpoint.ai Team
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </main>
</body>
</html>
